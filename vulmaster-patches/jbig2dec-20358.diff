diff --git a/jbig2_image.h b/jbig2_image.h
index c6973eb..6a40dba 100644
--- a/jbig2_image.h
+++ b/jbig2_image.h
@@ -57,7 +57,7 @@ jbig2_image_get_pixels_fast(Jbig2Image *image, int x, int y, int bits)
 {
     const int byte = (x >> 3) + y * image->stride;
     const int bit = 7 - (x & 7);
-    int v = ((image->data[byte]<<8) | (image->data[byte+1]))>>(bit+9-bits);
+ subsampling_y ) ) { if ( xd -> num_4x4_planes > 1 ) continue ; ( cm, xd, plane, xd -> mi [ 0 ], 0, bw, bh, mi_x, mi_y ) ; } else { 
 
     return v & ((1<<bits)-1);
 }
